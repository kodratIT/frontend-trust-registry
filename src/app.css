@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* shadcn-admin theme */
:root {
  --radius: 0.625rem;
  
  /* Light mode */
  --background: 0 0% 100%;
  --foreground: 222.2 84% 4.9%;
  --card: 0 0% 100%;
  --card-foreground: 222.2 84% 4.9%;
  --popover: 0 0% 100%;
  --popover-foreground: 222.2 84% 4.9%;
  --primary: 222.2 47.4% 11.2%;
  --primary-foreground: 210 40% 98%;
  --secondary: 210 40% 96.1%;
  --secondary-foreground: 222.2 47.4% 11.2%;
  --muted: 210 40% 96.1%;
  --muted-foreground: 215.4 16.3% 46.9%;
  --accent: 210 40% 96.1%;
  --accent-foreground: 222.2 47.4% 11.2%;
  --destructive: 0 84.2% 60.2%;
  --destructive-foreground: 210 40% 98%;
  --border: 214.3 31.8% 91.4%;
  --input: 214.3 31.8% 91.4%;
  --ring: 222.2 84% 4.9%;
  --chart-1: 220 70% 50%;
  --chart-2: 160 60% 45%;
  --chart-3: 30 80% 55%;
  --chart-4: 280 65% 60%;
  --chart-5: 340 75% 55%;

  --sidebar-width: 16rem;
  --sidebar-width-icon: 4.5rem;
  --sidebar: var(--background);
  --sidebar-foreground: var(--foreground);
  --sidebar-primary: var(--primary);
  --sidebar-primary-foreground: var(--primary-foreground);
  --sidebar-accent: var(--accent);
  --sidebar-accent-foreground: var(--accent-foreground);
  --sidebar-border: var(--border);
  --sidebar-ring: var(--ring);
}

/* Dark mode */
.dark {
  --background: 222.2 84% 4.9%;
  --foreground: 210 40% 98%;
  --card: 222.2 84% 4.9%;
  --card-foreground: 210 40% 98%;
  --popover: 222.2 84% 4.9%;
  --popover-foreground: 210 40% 98%;
  --primary: 210 40% 98%;
  --primary-foreground: 222.2 47.4% 11.2%;
  --secondary: 217.2 32.6% 17.5%;
  --secondary-foreground: 210 40% 98%;
  --muted: 217.2 32.6% 17.5%;
  --muted-foreground: 215 20.2% 65.1%;
  --accent: 217.2 32.6% 17.5%;
  --accent-foreground: 210 40% 98%;
  --destructive: 0 62.8% 30.6%;
  --destructive-foreground: 210 40% 98%;
  --border: 217.2 32.6% 17.5%;
  --input: 217.2 32.6% 17.5%;
  --ring: 212.7 26.8% 83.9%;
}

@layer base {
  * {
    @apply border-border;
    scrollbar-width: thin;
    scrollbar-color: hsl(var(--border)) transparent;
  }
  
  html {
    font-family: 'Inter', system-ui, sans-serif;
    -webkit-font-smoothing: antialiased;
  }
  
  body {
    @apply bg-background text-foreground min-h-screen;
  }
  
  code, pre, .font-mono {
    font-family: 'JetBrains Mono', monospace;
  }

  button:not(:disabled),
  [role='button']:not(:disabled) {
    cursor: pointer;
  }
}

@layer components {
  /* Sidebar styles */
  .sidebar-wrapper {
    --sidebar-width: 16rem;
    --sidebar-width-icon: 3rem;
  }

  .sidebar {
    @apply flex flex-col h-screen bg-sidebar text-sidebar-foreground border-r border-sidebar-border;
    width: var(--sidebar-width);
    transition: width 200ms ease-linear;
  }

  .sidebar[data-state="collapsed"] {
    width: var(--sidebar-width-icon);
  }

  .sidebar-header {
    @apply flex h-14 items-center border-b border-sidebar-border px-4;
  }

  .sidebar-content {
    @apply flex-1 overflow-y-auto overflow-x-hidden py-2;
  }

  .sidebar-footer {
    @apply border-t border-sidebar-border p-2;
  }

  .sidebar-group {
    @apply px-2 py-2;
  }

  .sidebar-group-label {
    @apply px-2 py-1.5 text-xs font-semibold text-muted-foreground uppercase tracking-wider;
  }

  .sidebar-menu {
    @apply flex flex-col gap-1;
  }

  .sidebar-menu-item {
    @apply relative;
  }

  .sidebar-menu-button {
    @apply flex w-full items-center gap-2 rounded-md px-2 py-1.5 text-sm font-medium text-sidebar-foreground/70 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground transition-colors;
  }

  .sidebar-menu-button[data-active="true"] {
    @apply bg-sidebar-accent text-sidebar-accent-foreground;
  }

  .sidebar-menu-button svg {
    @apply h-4 w-4 shrink-0;
  }

  /* Sidebar Rail (resize handle) */
  .sidebar-rail {
    @apply absolute inset-y-0 -right-2 w-4 cursor-ew-resize;
  }

  .sidebar-rail::after {
    @apply absolute inset-y-0 left-1/2 w-0.5 bg-transparent hover:bg-sidebar-border transition-colors;
    content: '';
  }

  /* Main content area */
  .main-content {
    @apply flex-1 flex flex-col min-h-screen overflow-hidden;
  }

  /* Header */
  .header {
    @apply sticky top-0 z-50 flex h-14 items-center gap-4 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 px-4 lg:px-6;
  }

  /* Cards */
  .card {
    @apply rounded-xl border bg-card text-card-foreground shadow;
  }

  .card-header {
    @apply flex flex-col space-y-1.5 p-6;
  }

  .card-title {
    @apply font-semibold leading-none tracking-tight;
  }

  .card-description {
    @apply text-sm text-muted-foreground;
  }

  .card-content {
    @apply p-6 pt-0;
  }

  /* Buttons */
  .btn {
    @apply inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50;
  }

  .btn-default {
    @apply btn bg-primary text-primary-foreground shadow hover:bg-primary/90 h-9 px-4 py-2;
  }

  .btn-secondary {
    @apply btn bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80 h-9 px-4 py-2;
  }

  .btn-ghost {
    @apply btn hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2;
  }

  .btn-outline {
    @apply btn border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2;
  }

  .btn-icon {
    @apply btn h-9 w-9;
  }

  /* Input */
  .input {
    @apply flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50;
  }

  /* Badge */
  .badge {
    @apply inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors;
  }

  .badge-default {
    @apply badge border-transparent bg-primary text-primary-foreground shadow;
  }

  .badge-secondary {
    @apply badge border-transparent bg-secondary text-secondary-foreground;
  }

  .badge-destructive {
    @apply badge border-transparent bg-destructive text-destructive-foreground shadow;
  }

  .badge-outline {
    @apply badge text-foreground;
  }

  /* Table */
  .table {
    @apply w-full caption-bottom text-sm;
  }

  .table thead {
    @apply [&_tr]:border-b;
  }

  .table tbody {
    @apply [&_tr:last-child]:border-0;
  }

  .table th {
    @apply h-10 px-4 text-left align-middle font-medium text-muted-foreground;
  }

  .table td {
    @apply p-4 align-middle;
  }

  .table tr {
    @apply border-b transition-colors hover:bg-muted/50;
  }

  /* Separator */
  .separator {
    @apply shrink-0 bg-border h-[1px] w-full;
  }

  /* Avatar */
  .avatar {
    @apply relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full;
  }

  .avatar-sm {
    @apply h-8 w-8;
  }

  .avatar-lg {
    @apply h-12 w-12;
  }

  /* Dropdown */
  .dropdown-content {
    @apply z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md;
  }

  .dropdown-item {
    @apply relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground;
  }

  .dropdown-separator {
    @apply -mx-1 my-1 h-px bg-muted;
  }

  .dropdown-label {
    @apply px-2 py-1.5 text-sm font-semibold;
  }

  /* Scroll area */
  .scroll-area {
    @apply relative overflow-hidden;
  }

  .scroll-area-viewport {
    @apply h-full w-full rounded-[inherit];
  }

  /* Collapsible animation */
  .collapsible-content {
    overflow: hidden;
  }

  .collapsible-content[data-state='open'] {
    animation: slideDown 200ms ease-out;
  }

  .collapsible-content[data-state='closed'] {
    animation: slideUp 200ms ease-out;
  }

  @keyframes slideDown {
    from { height: 0; }
    to { height: var(--radix-collapsible-content-height); }
  }

  @keyframes slideUp {
    from { height: var(--radix-collapsible-content-height); }
    to { height: 0; }
  }

  /* Custom scrollbar */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    background: hsl(var(--border));
    border-radius: 4px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--muted-foreground));
  }

  /* Selection */
  ::selection {
    background: hsl(var(--primary) / 0.3);
    color: hsl(var(--foreground));
  }

  /* Animations */
  .animate-in {
    animation: fadeIn 200ms ease-out;
  }

  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
}
